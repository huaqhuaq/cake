<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0" />
        <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
		<link rel="stylesheet" type="text/css" href="css/amazeui.min.css"/>
		<link rel="stylesheet" type="text/css" href="css/swiper.min.css"/>
		<link rel="stylesheet" type="text/css" href="css/style.css"/>
		<script src="js/jquery.min.js" type="text/javascript"></script>
		<script src="js/amazeui.min.js" type="text/javascript"></script>
		<script src="js/swiper.min.js" type="text/javascript"></script>
		<script src="layer/mobile/layer.js" type="text/javascript"></script>
		<title>购物车</title>
	</head>
	<body class="page">
		<!--header-->
		<div class="header am-header am-header-default am-header-fixed" data-am-widget="header">
			<div class="am-header-left am-header-nav">
				<a href="javascript:history.go(-1)"><img src="images/icon/icon-left.png" width="20" height="20"></a>
		    </div>
		    <h1 class="am-header-title">我的购物车</h1>
		</div>
		<!--cart-single-->
		<div class="cart-single">
			<div class="cart-pic am-cf">
				<div class="checkbox"><input type="checkbox" id="check01" class="check"><label for="check01"></label></div>
				<img src="images/static/148094230699648.jpg"/>
			</div>
			<div class="cart-single-info">
				<h4 class="f-14 c-666">草莓盛宴<img src="images/icon/icon-ziti.png" class="cart-icon"><img src="images/icon/icon-xianpei.png" class="cart-icon"></h4>
				<p class="f-12 c-999">Strawberry Festival</p>
				<p class="f-12 maincolor am-margin-top-sm">规格：2.0磅</p>
				<div class="amount">
					<a class="btn-reduce" href="javascript:;" onclick="setAmount.reduce('#buy-num')">-</a>
                    <input class="text" id="buy-num" value="1" onkeyup="setAmount.modify('#buy-num');">
                    <a class="btn-add" href="javascript:;" onclick="setAmount.add('#buy-num')">+</a>				                                               
                </div>
                <a href="" class="cart-delete"><img src="images/icon/icon-delete.png" width="16" height="16"/></a>
                <p class="f-14 maincolor cart-price"><span class="f-12">￥</span>336</p>
			</div>
		</div>
		<!--cart-units-->
		<div class="cart-units">
			<div class="cart-units-top">
				<div class="checkbox"><input type="checkbox" id="check02" class="check"><label for="check02"></label></div>
				<p class="f-14 c-666">儿童节套餐</p>
				<a href="" class="cart-delete"><img src="images/icon/icon-delete.png" width="16" height="16"/></a>
			</div>
			<div class="cart-units-main">
				<ul>
					<li>
						<div class="cart-pic am-cf">
							<img src="images/static/148094230699648.jpg"/>
						</div>
						<div class="cart-single-info">
							<h4 class="f-14 c-666">草莓盛宴<img src="images/icon/icon-ziti.png" class="cart-icon"><img src="images/icon/icon-wuliu.png" class="cart-icon"><img src="images/icon/icon-xianpei.png" class="cart-icon"></h4>
							<p class="f-12 c-999">Strawberry Festival</p>
							<p class="f-12 maincolor am-margin-top-sm">规格：2.0磅</p>
						</div>
					</li>
					<li>
						<div class="cart-pic am-cf">
							<img src="images/static/148094230699648.jpg"/>
						</div>
						<div class="cart-single-info">
							<h4 class="f-14 c-666">草莓盛宴<img src="images/icon/icon-ziti.png" class="cart-icon"><img src="images/icon/icon-xianpei.png" class="cart-icon"></h4>
							<p class="f-12 c-999">Strawberry Festival</p>
							<p class="f-12 maincolor am-margin-top-sm">规格：2.0磅</p>
						</div>
					</li>
				</ul>
				<div class="cart-units-total">
					<p class="f-10 c-666 cart-units-font">组合套餐数量</p>
					<div class="amount">
						<a class="btn-reduce" href="javascript:;" onclick="setAmount.reduce('#buy-num2')">-</a>
	                    <input class="text" id="buy-num2" value="2" onkeyup="setAmount.modify('#buy-num2');">
	                    <a class="btn-add" href="javascript:;" onclick="setAmount.add('#buy-num2')">+</a>				                                               
	                </div>
	                <div class="cart-price">
	                	<p class="f-14 c-666 ori-price"><span class="f-12">原价￥</span>486</p>
		                <p class="f-14 maincolor"><span class="f-12">组合价￥</span>336</p>
	                </div>
				</div>
			</div>
		</div>
		<!--cart-total-->
		<div class="cart-total">
			<div class="checkbox"><input type="checkbox" id="check-all"><label for="check-all"></label></div>
			<p class="f-12 c-666 cart-total-font">已选择2件商品</p>
			<div class="cart-total-price">
				<p class="f-14 maincolor"><span class="f-12">￥</span>822</p>
				<p class="f-12 c-666">不含配送费</p>
			</div>
			<a href="" class="btn-main btn-lg radius">点击结算</a>
		</div>	
		<!--mask-->
		<div class="mask">
			<div class="tagwarp">
				<div class="tagpoint am-animation-shake"></div>
				<div class="tagicon"><a href=""><img src="images/icon/icon-cart.png"/><span>购物车</span></a></div>
				<div class="tagpoint am-animation-shake"></div>
			</div>
		</div>
		<!--footer-->
		<footer data-am-widget="navbar" class="am-navbar am-cf footer">
			<ul class="am-navbar-nav am-cf am-avg-sm-5">
				<li class="flex-1">
					<a href="" class="current">
						<img src="images/icon/icon-home-on.png" alt="首页" />
						<span class="am-navbar-label">首页</span>
					</a>
				</li>
				<li class="flex-1">
					<a href="">
						<img src="images/icon/icon-cate.png" alt="商城" />
						<span class="am-navbar-label">商城</span>
					</a>
				</li>
				<li class="flex-1">
					<a href="javascript:;" class="more">
						<img src="images/icon/icon-logo-on.png" alt="" />
					</a>
				</li>
				<li class="flex-1">
					<a href="">
						<img src="images/icon/icon-shop.png" alt="门店" />
						<span class="am-navbar-label">门店</span>
					</a>
				</li>
				<li class="flex-1">
					<a href="">
						<img src="images/icon/icon-user.png" alt="个人" />
						<span class="am-navbar-label">个人</span>
					</a>
				</li>
			</ul>
		</footer>
		<script type="text/javascript">
			if($(".cart-total").is(":visible")){
				$("body").css("padding-bottom","95px")
			}
			var setAmount={
				min:1,
				max:999,
				reg:function(x){
					return new RegExp("^[1-9]\\d*$").test(x);
				},
				amount:function(obj,mode){
					var x=$(obj).val();
					if (this.reg(x)){
						if (mode){
							x++;
						}else{
							x--;
						}
					}else{
						alert("请输入正确的数量！");
						$(obj).val(1);
						$(obj).focus();
						}
						return x;						
					},
				reduce:function(obj){
					var x=this.amount(obj,false);
					if (x>=this.min){
						$(obj).val(x);
					}else{
						alert("商品购买数量最少为"+this.min);
						$(obj).val(1);
						$(obj).focus();
						}
					},
				add:function(obj){
					var x=this.amount(obj,true);
					if (x<=this.max){
						$(obj).val(x);
					}else{
						alert("商品购买数量最多为"+this.max);
						$(obj).val(999);
						$(obj).focus();
						}
					},
				modify:function(obj){
					var x=$(obj).val();
					if (x<this.min||x>this.max||!this.reg(x)){
						alert("请输入正确的数量！");
						$(obj).val(1);
						$(obj).focus();
						}
					}
			}
			//全选
			$('#check-all').on('change',function(){
				if($(this).prop('checked')){
					$('.check').prop('checked',true);
				}else{
					$('.check').prop('checked',false);
				}
			})
			$(".more").on("click",function(){
	        	$(".mask").fadeIn()
	        	$(".more").find("img").attr("src","images/icon/icon-logo.png")
	        })
			$(".mask").on("click",function(e){
				var target  = $(e.target);
				if(target.closest(".tagwarp").length == 0){
					$(".mask").fadeOut();
					$(".more").find("img").attr("src","images/icon/icon-logo-on.png")
				};
				e.stopPropagation();
			})
		</script>
	</body>
</html>
